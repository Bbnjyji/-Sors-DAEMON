import __main__
from telethon import events
import random

client = __main__.client

# ูุงุฆูุฉ ุงููููุงุช
words_list = ["ุฏูููู", "ุชููุฌุฑุงู", "ูุทูุฑ", "ุจุฑูุฌุฉ", "ุณูุฑูุฑ", "ุจุงุซููู", "ุงูุนุฑุงู", "ุชูููููุฌูุง", "ุฐูุงุก", "ูุณุทูุทูููู","ุฏูููุฑุงุทูู", "ุชุนุจุงููู", "ูุฒุงุฌู", "ูุนุณุงู""ุจุฑูุฌุฉ","ููุฏ","ุณูุฑุณ","ุจุงูุซูู","ุฌุงูุง","ุฏุงูุฉ","ูุชุบูุฑ","ุฎูุงุฑุฒููุฉ","ููู","ูุธุงู",
"ุดุจูุฉ","ุฎุงุฏู","ุณูุฑูุฑ","ุชุทุจูู","ููุชุจุฉ","ูุงุฌูุฉ","ูุงุนุฏุฉ","ุจูุงูุงุช","ุชุดููุฑ","ุฃูุงู",
"ุจุบุฏุงุฏ","ุงูุจุตุฑุฉ","ุงูููุตู","ูุฑุจูุงุก","ุงููุฌู","ุฃุฑุจูู","ุฏููู","ุงูุณูููุงููุฉ","ุงูุญูุฉ","ุงููุงุตุฑูุฉ",
"ุงูุนูุงุฑุฉ","ุงูุฏููุงููุฉ","ุงูููุช","ุณูุงูุฉ","ุชูุฑูุช","ุณุงูุฑุงุก","ุจูุฌู","ุญุฏูุซุฉ","ุนุงูุฉ","ุฑุงูุฉ",
"ุงูุนุฑุงู","ุณูุฑูุง","ุงูุฃุฑุฏู","ุงูุณุนูุฏูุฉ","ุงููููุช","ูุตุฑ","ุชุฑููุง","ุฅูุฑุงู","ุฃูุฑููุง","ุฃููุงููุง",
"ูุฑูุณุง","ุจุฑูุทุงููุง","ุฅูุทุงููุง","ุฅุณุจุงููุง","ุฑูุณูุง","ุงูุตูู","ุงููุงุจุงู","ููุฑูุง","ุงูููุฏ","ุจุงูุณุชุงู",
"ูุฑุณู","ุทุงููุฉ","ุจุงุจ","ุดุจุงู","ุญุงุฆุท","ุณูู","ุฃุฑุถ","ููู","ุฏูุชุฑ","ูุชุงุจ",
"ูุงุชู","ุญุงุณูุจ","ุดุงุดุฉ","ูุฃุฑุฉ","ููุญุฉ","ุณูุงุนุฉ","ุณุงุนุฉ","ููุชุงุญ","ุญููุจุฉ","ูุธุงุฑุฉ",
"ุฃุณุฏ","ููุฑ","ุฐุฆุจ","ุซุนูุจ","ุญุตุงู","ุฌูู","ูุทุฉ","ููุจ","ุตูุฑ","ูุณุฑ",
"ุญูุงูุฉ","ุบุฑุงุจ","ุณูู","ุญูุช","ุฏูููู","ูุฑุด","ููู","ุฒุฑุงูุฉ","ูุฑุฏ","ุบุฒุงู",
"ูุฎูุฉ","ุดุฌุฑุฉ","ูุฑุฏ","ุฒูุฑุฉ","ููุญ","ุดุนูุฑ","ุฑุฒ","ุชูุงุญ","ุจุฑุชูุงู","ููุฒ",
"ุนูุจ","ุฑูุงู","ุชูู","ุฒูุชูู","ุฎูุงุฑ","ุทูุงุทู","ุจุทุงุทุง","ุจุตู","ุซูู","ูุนูุงุน",
"ููุฏ","ุจูุช","ุฑุฌู","ุงูุฑุฃุฉ","ุทูู","ุดุงุจ","ูุจูุฑ","ุตุบูุฑ","ููู","ุถุนูู",
"ุฐูู","ุบุจู","ุดุฌุงุน","ุฌุจุงู","ุทูุจ","ุดุฑูุฑ","ุณุฑูุน","ุจุทูุก","ุณุนูุฏ","ุญุฒูู",
"ูุนุจุฉ","ูุฑุญูุฉ","ูุณุชูู","ููุฒ","ุฎุณุงุฑุฉ","ููุทุฉ","ููุช","ุฒูู","ุณุฑุนุฉ","ุชุญุฏู",
"ุญูุงุณ","ุชุฑููุฒ","ุฐูุงุก","ุชูููุฑ","ุญู","ูุบุฒ","ุชูููู","ุชุฑููุจ","ูุญุงููุฉ","ูุฌุงุญ",
"ูุณู","ุดูู","ููู","ููุด","ุดููู","ุจุนุฏ","ุฒูู","ููุฌ","ููุงู","ููุด",
"ูุงุจู","ุญุจู","ุชุฑู","ูุงููู","ุตุฏู","ุชุนุงู","ุงูุดู","ุฎูุด","ูุงูู","ุดูู",
"ูุงุฑ","ูุงุก","ููุงุก","ุชุฑุงุจ","ุดูุณ","ููุฑ","ููู","ููุงุฑ","ูุทุฑ","ุฑูุญ",
"ุฌุจู","ููุฑ","ุจุญุฑ","ูุงุฏู","ุตุญุฑุงุก","ุบุงุจุฉ","ุทุฑูู","ุฌุณุฑ","ุณูู","ุจูุช",
"ูุฏุฑุณุฉ","ุฌุงูุนุฉ","ูุณุชุดูู","ุฏูุงู","ุดุบู","ูุธููุฉ","ุฑุงุชุจ","ูููุณ","ุฏููุงุฑ","ุณูู",
"ุณูุงุฑุฉ","ุฏุฑุงุฌุฉ","ุจุงุต","ูุทุงุฑ","ุทุงุฆุฑุฉ","ุณูููุฉ","ูููุงุก","ูุทุงุฑ","ูุญุทุฉ","ูููุฏ",
"ูุฑุฉ","ููุนุจ","ูุฏู","ูุฑูู","ุญูู","ุดูุท","ุจุทููุฉ","ูุงุณ","ุชุดุฌูุน","ููุฒ",
"ุตูุช","ุตูุฑุฉ","ููุฏูู","ููุทุน","ุชุญููู","ุฑุงุจุท","ูููุน","ูุชุตูุญ","ุจุญุซ","ูุชูุฌุฉ",
"ููู","ุตุจุงุญ","ูุณุงุก","ุธูุฑ","ูุฌุฑ","ุบุฑูุจ","ุดุฑูู","ุชุงุฑูุฎ","ููู","ุดูุฑ",
"ูุงููู","ูุธุงู","ุฃูุฑ","ุชูููุฐ","ุชุญูู","ุฅุฏุงุฑุฉ","ูุณุชุฎุฏู","ูุดุฑู","ูุงูู","ุตูุงุญูุฉ",
"ุฏูููู","ููุฑูู","ุฑูุช","ูู","ุณุชุงู","ูุงุด","ุจุงูุช","ุจุช","ุฅูุณุจูููุช","ุจุงูููุฏ"]

# ูุฎุฒู ููุชุงุจุนุฉ ุงููููุฉ ุงูุญุงููุฉ ูู ูู ุฌุฑูุจ
active_tafkik = {}

@client.on(events.NewMessage(pattern=r"^\.ุชูููู$"))
async def start_tafkik(event):
    # ุงุฎุชูุงุฑ ูููุฉ ุนุดูุงุฆูุฉ
    word = random.choice(words_list)
    # ุชูููู ุงููููุฉ
    shuffled = " ".join(list(word))
    
    # ุญูุธ ุงููููุฉ ูู ุงูุฐุงูุฑุฉ ููุฐุง ุงูุฌุฑูุจ
    active_tafkik[event.chat_id] = word
    
    await event.edit(f"โโโโโโโโโโญโโโโโโโโโ\n"
                     f"๐น **ูุนุจุฉ ุงูุชูููู**\n\n"
                     f"ูู ุจุชุฌููุน ุงููููุฉ ุงูุชุงููุฉ:\n"
                     f"๐น **{shuffled}**\n\n"
                     f"ุฃูู ูู ููุชุจ ุงููููุฉ ูููุฒ! ๐\n"
                     f"โโโโโโโโโโญโโโโโโโโโ")

@client.on(events.NewMessage())
async def check_answer(event):
    # ุงูุชุฃูุฏ ุฃู ููุงู ูุนุจุฉ ุฌุงุฑูุฉ ูู ูุฐุง ุงูุฌุฑูุจ
    if event.chat_id in active_tafkik:
        answer = active_tafkik[event.chat_id]
        
        # ุฅุฐุง ูุงูุช ุฑุณุงูุฉ ุงูุดุฎุต ุชุทุงุจู ุงููููุฉ
        if event.text == answer:
            user = await event.get_sender()
            name = user.first_name if user else "ุงูุจุทู"
            
            await event.reply(f"๐ ููู ููู ูุง **{name}**!\nโ ุงูุฅุฌุงุจุฉ ุตุญูุญุฉ: **{answer}**\n\nุชู ุฅุถุงูุฉ ููุทุฉ ูุฑุตูุฏู (ููููุงู) ๐")
            
            # ุฅููุงุก ุงููุนุจุฉ ููุฐุง ุงูุฌุฑูุจ
            del active_tafkik[event.chat_id]
